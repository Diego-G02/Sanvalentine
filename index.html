<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>¬øQuieres ser mi San Valent√≠n? üíñ</title>
  <style>
    :root{
      --bg1:#ffe6f0;
      --bg2:#ff9bb3;
      --card:#ffffffcc;
      --text:#2b2b2b;
      --pink:#ff4d6d;
      --pink2:#ff758f;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* Corazones flotando de fondo */
    .bg-heart{
      position:fixed;
      font-size:18px;
      opacity:.35;
      animation: floatUp linear forwards;
      pointer-events:none;
      filter: blur(.1px);
    }
    @keyframes floatUp{
      from{ transform: translateY(110vh) translateX(0) rotate(0deg); }
      to  { transform: translateY(-20vh) translateX(60px) rotate(360deg); }
    }

    .card{
      width:min(620px, 92vw);
      background:var(--card);
      border:1px solid #fff;
      backdrop-filter: blur(10px);
      border-radius:28px;
      padding:30px 24px;
      box-shadow: 0 24px 70px rgba(0,0,0,.18);
      text-align:center;
      position:relative;
    }

    .top{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      user-select:none;
    }
    .top .ring{
      width:64px;height:64px;
      border-radius:999px;
      background: radial-gradient(circle at top, #fff, #ffd1dc);
      display:grid;
      place-items:center;
      box-shadow: 0 10px 30px rgba(0,0,0,.12);
      font-size:28px;
      animation: pulse 2.2s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.06); }
    }

    h1{
      margin:10px 0 6px;
      font-size: clamp(1.6rem, 2.6vw, 2.4rem);
      letter-spacing:.2px;
    }

    .subtitle{
      margin:0 0 16px;
      font-size:1.05rem;
      opacity:.9;
      line-height:1.45;
    }

    .names{
      font-weight:800;
      color:#1f1f1f;
    }

    .divider{
      width:140px;
      height:4px;
      margin:14px auto 14px;
      border-radius:999px;
      background: linear-gradient(90deg, transparent, var(--pink), transparent);
      opacity:.85;
    }

    .message{
      margin:0 auto 16px;
      max-width: 50ch;
      font-size:1.05rem;
      line-height:1.55;
    }

    .buttons{
      margin-top:18px;
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      position:relative;
      min-height:62px;
    }

    .arena{
     position: relative;
    width: 100%;
    height: 200px;         /* l√≠mite exacto donde se mover√° */
    display:flex;
    align-items:center;
    justify-content:center;
    }

    button{
      border:0;
      border-radius:999px;
      padding:14px 22px;
      font-weight:800;
      cursor:pointer;
      transition: transform .08s ease, filter .2s ease;
      font-size:1rem;
      letter-spacing:.2px;
    }
    button:active{transform:scale(.98)}
    .yes{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:#fff;
      box-shadow: 0 12px 26px rgba(255,77,109,.35);
    }
    .yes:hover{filter:brightness(1.05)}
    .no{
  position:absolute;    /* ahora s√≠ se limita a la arena */
  z-index: 50;
  transition: left .12s ease, top .12s ease;
}



    .footer{
      margin-top:18px;
      font-size:.95rem;
      opacity:.9;
    }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:center; justify-content:center;
      background: rgba(0,0,0,.35);
      padding:18px;
      z-index:10;
    }
    .modal .box{
      width:min(650px, 92vw);
      background:#fff;
      border-radius:26px;
      padding:22px 20px;
      text-align:center;
      box-shadow: 0 24px 70px rgba(0,0,0,.25);
    }
    .modal .big{
      font-size:3.1rem;
      margin:6px 0 2px;
    }
    .modal h2{margin:6px 0 8px}
    .modal p{margin:0 auto 14px; max-width: 52ch; line-height:1.5}
    .actions{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
    }
    .secondary{
      background:#f4f4f4;
      color:#333;
    }

    /* Confetti */
    .confetti{
      position:fixed;
      top:-12px;
      width:10px; height:14px;
      opacity:.95;
      animation: fall linear forwards;
      border-radius:2px;
      pointer-events:none;
      z-index:9;
    }
    @keyframes fall{
      to{ transform: translateY(115vh) rotate(720deg); }
    }

    /* Bot√≥n m√∫sica */
    .music{
      position:absolute;
      right:16px;
      top:16px;
      border-radius:999px;
      padding:10px 14px;
      font-weight:800;
      background:#ffffffd6;
      border:1px solid #fff;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
    }
  </style>
</head>
<body>

    <audio id="musica" loop>
  <source src= "Contigo.mp3.mp3" type="audio/mpeg">
</audio>


  <div class="card">
    <button class="music" id="musicBtn" title="M√∫sica">
      üîä M√∫sica: OFF
    </button>

    <div class="top">
      <div class="ring">üíç</div>
      <div class="ring">üåπ</div>
      <div class="ring">üíñ</div>
    </div>

    <h1>
      <span id="herName" class="names">Mi amor</span>,
      ¬øquieres ser mi San Valent√≠n?
    </h1>

    <div class="divider"></div>

    <p class="subtitle" id="sub">
      Contigo todo se siente m√°s bonito ‚ú®
    </p>

    <p class="message" id="msg">
      Eres mi noviecita, mi paz y mi risa.  
      Hoy solo quiero preguntarte algo simple‚Ä¶ pero con todo el coraz√≥n:  
      <strong>¬øme har√≠as el honor de ser mi San Valent√≠n? üíò</strong>
    </p>

<div class="buttons" id="btnArea">
  <div class="arena" id="arena">
    <button class="yes" id="yesBtn">S√≠ üíò</button>
    <button class="no" id="noBtn">No üòÖ</button>
  </div>
</div>


    <div class="footer">
      Con amor, <span id="myName" class="names">Tu nombre</span> ü´∂
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="box">
      <div class="big">ü•∞</div>
      <h2>¬°Dijiste que s√≠! üíñ</h2>
      <p id="resultText">
        Prometo hacerte sonre√≠r mucho, cuidarte y darte lo mejor de miüíñ
      </p>
      <div class="actions">
        <button class="secondary" id="closeBtn">Cerrar</button>
        <button class="yes" id="copyBtn">Copiar mensajito üíå</button>
      </div>
    </div>
  </div>

  <!-- M√∫sica (sin archivo externo): una melod√≠a suave hecha con WebAudio -->
 <script>
  // ====== PERSONALIZA AQU√ç ======
  const NOMBRE_DE_TU_NOVIA = "Carito";  // <-- pon su nombre
  const TU_NOMBRE = "Diego";         // <-- pon tu nombre
  // ==============================

  document.getElementById("herName").textContent = NOMBRE_DE_TU_NOVIA;
  document.getElementById("myName").textContent = TU_NOMBRE;

  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const modal = document.getElementById("modal");
  const closeBtn = document.getElementById("closeBtn");
  const copyBtn = document.getElementById("copyBtn");
  const resultText = document.getElementById("resultText");
  const musicBtn = document.getElementById("musicBtn");
  const musica = document.getElementById("musica");


  // Frases cuando intenta decir "No"
  const noPhrases = [
    "¬øSegura? ü•∫",
    "Pi√©nsalo otra vez, por fa üò≥",
    "Yo s√© que me quieres üò≠",
    "Ya pues, di que siü•∫",
    "Anda, di que s√≠ üòû",
    "Mira qu√© bonito lo hice ü•π"
  ];
  let noIndex = 0;

  function rand(min, max){ return Math.random() * (max - min) + min; }

  // Fondo de corazones flotando
  function spawnBgHeart(){
    const h = document.createElement("div");
    h.className = "bg-heart";
    const hearts = ["üíó","üíñ","üíò","üíû","üíì","üíï"];
    h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
    h.style.left = rand(0, 100) + "vw";
    h.style.animationDuration = rand(5.5, 10) + "s";
    h.style.fontSize = rand(16, 28) + "px";
    document.body.appendChild(h);
    h.addEventListener("animationend", ()=> h.remove());
  }
  setInterval(spawnBgHeart, 350);
  for(let i=0;i<12;i++) setTimeout(spawnBgHeart, i*150);

  // Confetti
  function confettiBurst(count = 140){
    for(let i=0;i<count;i++){
      const c = document.createElement("div");
      c.className = "confetti";
      c.style.left = rand(0, 100) + "vw";
      c.style.animationDuration = rand(2.8, 5.2) + "s";
      c.style.background = `hsl(${Math.floor(rand(0,360))} 90% 60%)`;
      c.style.width = rand(6, 12) + "px";
      c.style.height = rand(8, 16) + "px";
      document.body.appendChild(c);
      c.addEventListener("animationend", ()=> c.remove());
    }
  }
//para que se mueva por toda la pantalla
function clamp(v, min, max){
  return Math.min(Math.max(v, min), max);
}

function moveNo(e){
  if(e) e.preventDefault();

  noBtn.textContent = noPhrases[noIndex % noPhrases.length];
  noIndex++;

  const arena = document.getElementById("arena");
  const padding = 10;

  const arenaW = arena.clientWidth;
  const arenaH = arena.clientHeight;

  const btnW = noBtn.offsetWidth;
  const btnH = noBtn.offsetHeight;

  const minX = padding;
  const minY = padding;
  const maxX = Math.max(minX, arenaW - btnW - padding);
  const maxY = Math.max(minY, arenaH - btnH - padding);

  const x = minX + Math.random() * (maxX - minX);
  const y = minY + Math.random() * (maxY - minY);

  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
  noBtn.style.transform = "none";
}




  noBtn.addEventListener("mouseenter", moveNo);
  noBtn.addEventListener("click", moveNo);

  window.addEventListener("load", () => {
  noBtn.style.left = "65%";
  noBtn.style.top  = "18px";
});


  // S√≠
  yesBtn.addEventListener("click", () => {
    confettiBurst();
    resultText.textContent = `${NOMBRE_DE_TU_NOVIA}, TE AMO MUCHISISISIISIMOOOüíñ
Quiero que este San Valentine estemos juntikos‚Ä¶ ¬ønos vemos a las 4 mi vida? ü•∞`;
    modal.style.display = "flex";
  });

  closeBtn.addEventListener("click", ()=> modal.style.display="none");

  // Copiar mensaje
  copyBtn.addEventListener("click", async () => {
    const msg = `üíò ${NOMBRE_DE_TU_NOVIA}, ¬øquieres ser mi San Valent√≠n? üíò\n\nTe hice una p√°gina para pregunt√°rtelo üò≥‚ù§Ô∏è`;
    try{
      await navigator.clipboard.writeText(msg);
      copyBtn.textContent = "¬°Copiado! ‚úÖ";
      setTimeout(()=> copyBtn.textContent = "Copiar mensajito üíå", 1400);
    }catch{
      alert("No pude copiar autom√°ticamente. Copia esto:\n\n" + msg);
    }
  });

 


  // ===== M√∫sica rom√°ntica (WebAudio) =====
  let isPlaying = false;

musicBtn.addEventListener("click", () => {
  if(!isPlaying){
    musica.play();
    musicBtn.textContent = "üîä M√∫sica: ON";
    isPlaying = true;
  }else{
    musica.pause();
    musicBtn.textContent = "üîá M√∫sica: OFF";
    isPlaying = false;
  }
});


  function startMusic(){
    audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();

    const gain = audioCtx.createGain();
    gain.gain.value = 0.06;
    gain.connect(audioCtx.destination);

    let i = 0;
    const tempoMs = 420;

    timer = setInterval(() => {
      const osc = audioCtx.createOscillator();
      osc.type = "sine";
      osc.frequency.value = melody[i % melody.length];

      const g = audioCtx.createGain();
      g.gain.setValueAtTime(0, audioCtx.currentTime);
      g.gain.linearRampToValueAtTime(1, audioCtx.currentTime + 0.02);
      g.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.36);

      osc.connect(g);
      g.connect(gain);

      osc.start();
      osc.stop(audioCtx.currentTime + 0.38);

      i++;
    }, tempoMs);

    isPlaying = true;
    musicBtn.textContent = "üîä M√∫sica: ON";
  }

  function stopMusic(){
    clearInterval(timer);
    timer = null;
    isPlaying = false;
    musicBtn.textContent = "üîá M√∫sica: OFF";
  }

  musicBtn.addEventListener("click", async () => {
    if(!isPlaying){
      try{
        if(audioCtx && audioCtx.state === "suspended") await audioCtx.resume();
        startMusic();
      }catch{
        alert("Tu navegador bloque√≥ el audio. Intenta de nuevo üòÖ");
      }
    }else{
      stopMusic();
    }
  });
</script>


